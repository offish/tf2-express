{% extends "base.html" %}

{% block title %}
{{ item.name }}
{% endblock %}

{% block contents %}
<div class="max-w-3xl mx-auto p-6 bg-darkcard rounded-lg shadow-md border border-jet">
    <h1 class="text-2xl font-bold text-primary">{{ item.sku }}</h1>
    <div class="flex flex-col items-center mt-4">
        <img class="rounded-lg shadow-md p-2" src="{{ item.image }}" style="background-color: #{{ item.color }};">
        <h2 class="text-xl font-semibold text-white mt-2" style="color: #{{ item.color }};">{{ item.name }}</h2>
        {% if item.autoprice %}
            <h4 class="text-green-400 font-medium mt-2">Autopriced</h4>
        {% else %}
            <h4 class="text-red-400 font-medium mt-2">Not autopriced</h4>
        {% endif %}
    </div>
    
    <p class="text-gray-400 mt-4">Last updated: {{ updated }} ({{ passed_time }} minutes ago)</p>
    
    <h3 class="text-lg font-semibold text-primary mt-6">Market Links</h3>
    <ul class="mt-2 pl-6 space-y-1">
        <li><a class="text-primary hover:underline" href="https://marketplace.tf/items/tf2/{{ item.sku }}">MarketplaceTF</a></li>
        <li><a class="text-primary hover:underline" href="https://autobot.tf/items/{{ item.sku }}">AutobotTF</a></li>
    </ul>
    
    <h3 class="text-lg font-semibold text-primary mt-6">Buy Prices</h3>
    {% if item["buy"] %}
        <p class="text-gray-300">Keys: {{ item["buy"]["keys"] }}</p>
        <p class="text-gray-300">Metal: {{ item["buy"]["metal"] }}</p>
    {% else %}
        <p class="text-gray-300">No price yet</p>
    {% endif %}
    
    
    <h3 class="text-lg font-semibold text-primary mt-6">Sell Prices</h3>
    {% if item["sell"] %}
        <p class="text-gray-300">Keys: {{ item["sell"]["keys"] }}</p>
        <p class="text-gray-300">Metal: {{ item["sell"]["metal"] }}</p>
    {% else %}
        <p class="text-gray-300">No price yet</p>
    {% endif %}
    
    <h3 class="text-lg font-semibold text-primary mt-6">Stock</h3>
    <p class="text-gray-300">In stock: {{ item["in_stock"] }}</p>
    
    {% if item["max_stock"] == -1 %}
        <p class="text-gray-300">Max stock: No max stock</p>
    {% else %}
        <p class="text-gray-300">Max stock: {{ item["max_stock"] }}</p>
    {% endif %}
</div>
{% endblock %}